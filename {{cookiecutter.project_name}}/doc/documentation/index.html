
<!DOCTYPE html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gulp Markdown Docs</title>
  <style>/*

Orginal Style from ethanschoonover.com/solarized (c) Jeremy Hull <sourdrums@gmail.com>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #002b36;
  color: #839496;
  -webkit-text-size-adjust: none;
}

.hljs-comment,
.diff .hljs-header,
.hljs-doctype,
.hljs-pi,
.lisp .hljs-string {
  color: #586e75;
}

/* Solarized Green */
.hljs-keyword,
.hljs-winutils,
.method,
.hljs-addition,
.css .hljs-tag,
.hljs-request,
.hljs-status,
.nginx .hljs-title {
  color: #859900;
}

/* Solarized Cyan */
.hljs-number,
.hljs-command,
.hljs-string,
.hljs-tag .hljs-value,
.hljs-rule .hljs-value,
.hljs-doctag,
.tex .hljs-formula,
.hljs-regexp,
.hljs-hexcolor,
.hljs-link_url {
  color: #2aa198;
}

/* Solarized Blue */
.hljs-title,
.hljs-localvars,
.hljs-chunk,
.hljs-decorator,
.hljs-built_in,
.hljs-identifier,
.vhdl .hljs-literal,
.hljs-id,
.css .hljs-function,
.hljs-name {
  color: #268bd2;
}

/* Solarized Yellow */
.hljs-attribute,
.hljs-variable,
.lisp .hljs-body,
.smalltalk .hljs-number,
.hljs-constant,
.hljs-class .hljs-title,
.hljs-parent,
.hljs-type,
.hljs-link_reference {
  color: #b58900;
}

/* Solarized Orange */
.hljs-preprocessor,
.hljs-preprocessor .hljs-keyword,
.hljs-pragma,
.hljs-shebang,
.hljs-symbol,
.hljs-symbol .hljs-string,
.diff .hljs-change,
.hljs-special,
.hljs-attr_selector,
.hljs-subst,
.hljs-cdata,
.css .hljs-pseudo,
.hljs-header {
  color: #cb4b16;
}

/* Solarized Red */
.hljs-deletion,
.hljs-important {
  color: #dc322f;
}

/* Solarized Violet */
.hljs-link_label {
  color: #6c71c4;
}

.tex .hljs-formula {
  background: #073642;
}
</style><style>body {
  margin-left: 35vw;
  font-family: sans-serif;
}
pre {
  /* matches solarized_dark */
  background: #002b36;
  color: #839496;
  padding: 1em;
  margin: 0;
  text-overflow: ellipsis;
  overflow: hidden;
}
.doc-nav {
  position: fixed;
  width: 32vw;
  left: 0;
  top: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: auto;
  padding: 1em;
  -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box;
          box-sizing: border-box;

}
.doc-nav a {
  text-decoration: none;
}
.doc-nav a:hover {
  text-decoration: underline;
}
.doc-nav-group {
  list-style: none;
  padding: 0;
}
.doc-nav-group-header {
  display: block;
  padding: 0.5em 0;
  font-size: 1.2em;
  font-weight: bold;
}
.doc-nav-group-header,
.doc-nav-group-header a:active,
.doc-nav-group-header a:visited {
  color: #212121;
}
.doc-nav-item {
  padding: 0.5em 0 0.5em 1.5em;
}
.doc-nav-item a:active,
.doc-nav-item a:visited {
  color: #454545;
}
.doc-section-header {
  font-size: 1.7em;
  border-bottom: 1px solid #839496;
  padding-bottom: 0.5em;
}
.doc-article {
  padding-bottom: 4em;
  display: block;
}
.doc-article h1 {
  font-size: 1.6em;
}
.doc-article + .doc-article {
  padding-top: 3em;
  border-top: 1px solid #323232;
}</style></head>
  <body>
    <section class="doc-nav"><ul class="doc-nav-group"><li class="doc-nav-item"><a href="#project_requirements">Requirements</a></li><li class="doc-nav-item"><a href="#setup_prototype">Setup Project</a></li><li class="doc-nav-item"><a href="#option_wiredep">Option Wiredep</a></li><li class="doc-nav-item"><a href="#option_browsersync">Option Browsersync</a></li><li class="doc-nav-item"><a href="#doc_howto">Setup Documentation Project</a></li></ul></section>
    <section class="doc-content"><section class="doc-section"><article class="doc-article"><a class="doc-nav-anchor" name="project_requirements"></a><h1 id="project-requirements">Project Requirements</h1>
<p>git, node, npm </p>
</article><article class="doc-article"><a class="doc-nav-anchor" name="setup_prototype"></a><h1 id="project-setup-step-by-step">Project Setup, Step by Step</h1>
<p>Initialize the project directory.</p>
<pre><code><span class="hljs-variable">$ </span>mkdir prototype
<span class="hljs-variable">$ </span>cd prototype
<span class="hljs-variable">$ </span>npm init
</code></pre><p>accept all default</p>
<h2 id="install-requirements">Install Requirements</h2>
<pre><code>$ npm <span class="hljs-operator"><span class="hljs-keyword">install</span> gulp <span class="hljs-comment">--save-dev</span>
$ npm <span class="hljs-keyword">install</span> gulp-sass <span class="hljs-comment">--save-dev</span>
$ npm <span class="hljs-keyword">install</span> gulp-jade <span class="hljs-comment">--save-dev</span>
$ npm <span class="hljs-keyword">install</span> require-dir <span class="hljs-comment">--save-dev</span>
$ npm <span class="hljs-keyword">install</span> gulp-copy <span class="hljs-comment">--save-dev</span>
$ npm <span class="hljs-keyword">install</span> run-<span class="hljs-keyword">sequence</span> <span class="hljs-comment">--save-dev</span></span>
</code></pre><h2 id="create-source-files">Create Source Files</h2>
<pre><code><span class="hljs-variable">$ </span>mkdir src
<span class="hljs-variable">$ </span>mkdir src/scss
<span class="hljs-variable">$ </span>mkdir src/jade
<span class="hljs-variable">$ </span>mkdir src/scripts
<span class="hljs-variable">$ </span>mkdir src/assets
<span class="hljs-variable">$ </span>touch src/scss/main.scss
<span class="hljs-variable">$ </span>touch src/jade/index.jade
<span class="hljs-variable">$ </span>touch src/scripts/main.js
</code></pre><h2 id="initial-gulp-setup">Initial Gulp Setup</h2>
<pre><code><span class="hljs-variable">$ </span>mkdir gulp
<span class="hljs-variable">$ </span>mkdir gulp/tasks
<span class="hljs-variable">$ </span>touch gulpfile.js
</code></pre><p>add this code to gulpfile.js:</p>
<pre><code>// <span class="hljs-keyword">all</span> gulp tasks are located <span class="hljs-keyword">in</span> the ./build/tasks directory
// gulp <span class="hljs-keyword">configuration</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">in</span> files <span class="hljs-keyword">in</span> ./build directory
require(<span class="hljs-attribute">&apos;require</span>-dir&apos;)(<span class="hljs-attribute">&apos;gulp</span>/tasks&apos;);
</code></pre><p>create the gulp files</p>
<pre><code>$ touch gulp/paths<span class="hljs-class">.js</span>
$ touch gulp/tasks/scss<span class="hljs-class">.js</span>
$ touch gulp/tasks/assets<span class="hljs-class">.js</span>
$ touch gulp/tasks/scripts<span class="hljs-class">.js</span>
$ touch gulp/tasks/jade<span class="hljs-class">.js</span>
$ touch gulp/tasks/build<span class="hljs-class">.js</span>
$ touch gulp/tasks/watch.js
</code></pre><p>add this code to the gulp/paths.js file:</p>
<pre><code><span class="hljs-keyword">var</span> path = require(<span class="hljs-symbol">&apos;pat</span>h&apos;);

<span class="hljs-keyword">var</span> appRoot = <span class="hljs-symbol">&apos;src</span>/&apos;;
<span class="hljs-keyword">var</span> outputRoot = <span class="hljs-symbol">&apos;dist</span>/&apos;;

module.exports = {

    scss: appRoot + <span class="hljs-symbol">&apos;scss</span><span class="hljs-comment">/**/</span>*.scss&apos;,
    jade: appRoot + <span class="hljs-symbol">&apos;jade</span><span class="hljs-comment">/**/</span>*.jade&apos;,
    jade_exclude: &apos;!&apos; + appRoot + <span class="hljs-symbol">&apos;jade</span><span class="hljs-comment">/**/</span>_*.jade&apos;, <span class="hljs-comment">// dont compile jade files that begin with _</span>

    assets: appRoot + <span class="hljs-symbol">&apos;assets</span><span class="hljs-comment">/**/</span>*&apos;,
    assets_dest: outputRoot + <span class="hljs-symbol">&apos;assets</span>/&apos;,

    scripts: appRoot + <span class="hljs-symbol">&apos;scripts</span><span class="hljs-comment">/**/</span>*.js&apos;,
    scripts_output: outputRoot + <span class="hljs-symbol">&apos;scripts</span>/&apos;,

    styleOutput: outputRoot + <span class="hljs-symbol">&apos;style</span><span class="hljs-comment">/*.css&apos;,

    dest: outputRoot

};</span>
</code></pre><h3 id="setup-gulp-assets-task">Setup Gulp Assets Task</h3>
<p>This task is responsible for moving and processing all binary assets 
( jpegs, pngs, svgs, etc ) into the corresponding dist folders.</p>
<p>In the gulp/tasks/assets.js file add the following code:</p>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> paths = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../paths&apos;</span>);
<span class="hljs-keyword">var</span> copy = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp-copy&apos;</span>);

gulp.task(<span class="hljs-string">&apos;assets&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> gulp.src(paths.assets)
        .pipe(copy(paths.assets_dest, {
            prefix: <span class="hljs-number">2</span>
        }));
});
</code></pre><h3 id="setup-gulp-scripts-task">Setup Gulp Scripts Task</h3>
<p>This task is responsible for moving and processing all javascript files
into the corresponding dist folders.</p>
<p>In the gulp/tasks/scripts.js file add the following code:</p>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> paths = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../paths&apos;</span>);
<span class="hljs-keyword">var</span> copy = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp-copy&apos;</span>);

gulp.task(<span class="hljs-string">&apos;scripts&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> gulp.src(paths.scripts)
        .pipe(copy(paths.scripts_output, {
            prefix: <span class="hljs-number">2</span>
        }));
});
</code></pre><h3 id="setup-gulp-jade-task">Setup Gulp Jade Task</h3>
<p>add this code to the gulp/tasks/jade.js file:</p>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> paths = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../paths&apos;</span>);
<span class="hljs-keyword">var</span> jade = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;gulp-jade&quot;</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleError</span>(<span class="hljs-params">err</span>) </span>{
    <span class="hljs-built_in">console</span>.log(err.toString());
    <span class="hljs-keyword">this</span>.emit(<span class="hljs-string">&apos;end&apos;</span>);
}

gulp.task(<span class="hljs-string">&apos;jade&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> gulp.src([paths.jade, paths.jade_exclude])
        .pipe(jade({
            pretty: <span class="hljs-literal">true</span>
        }))
        .on(<span class="hljs-string">&apos;error&apos;</span>, handleError)
        .pipe(gulp.dest(paths.dest))
});
</code></pre><p>add some code to the index.jade file:</p>
<pre><code>doctype html
html(lang=<span class="hljs-string">&quot;en&quot;</span>)
  head
    title= pageTitle
    <span class="hljs-keyword">script</span>(type=&apos;<span class="hljs-type">text</span>/javascript&apos;).
      <span class="hljs-keyword">if</span> (foo) {
        bar(<span class="hljs-number">1</span> + <span class="hljs-number">5</span>)
      }
  body
    h1 Jade - node template engine
    <span class="hljs-comment">#container.col</span>

      p.
        Jade <span class="hljs-keyword">is</span> a terse <span class="hljs-keyword">and</span> simple
        templating language <span class="hljs-keyword">with</span> a
        strong focus <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> performance
        <span class="hljs-keyword">and</span> powerful features.
</code></pre><p>test the gulp jade command:</p>
<pre><code><span class="hljs-variable">$ </span>gulp jade
</code></pre><p>you should now see and index.html file in the dist/ directory</p>
<h3 id="setup-gulp-scss-task">Setup Gulp Scss Task</h3>
<p>add this code to the scss.js file:</p>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> paths = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../paths&apos;</span>);
<span class="hljs-keyword">var</span> scss = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp-sass&apos;</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleError</span>(<span class="hljs-params">err</span>) </span>{
    <span class="hljs-built_in">console</span>.log(err.toString());
    <span class="hljs-keyword">this</span>.emit(<span class="hljs-string">&apos;end&apos;</span>);
}

gulp.task(<span class="hljs-string">&apos;scss&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> gulp.src([paths.scss])
        .pipe(scss({}))
        .on(<span class="hljs-string">&apos;error&apos;</span>, handleError)
        .pipe(gulp.dest(paths.styleOutput))
});
</code></pre><p>add some styles to the main.scss file in the src/scss directory</p>
<pre><code><span class="hljs-tag">body</span> {
  <span class="hljs-attribute">background-color</span>: dimgrey;

  <span class="hljs-tag">h3</span> {
    <span class="hljs-attribute">color</span>: white;
  }

}
</code></pre><p>test the gulp scss command:</p>
<pre><code><span class="hljs-variable">$ </span>gulp scss
</code></pre><h3 id="setup-gulp-build-and-watch-tasks">Setup Gulp Build and Watch Tasks</h3>
<p>Add the &apos;jade&apos; and &apos;scss&apos; tasks to the build task in gulp/tasks/build.js</p>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> runSequence = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;run-sequence&apos;</span>);

gulp.task(<span class="hljs-string">&apos;build&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    runSequence(<span class="hljs-string">&apos;jade&apos;</span>, <span class="hljs-string">&apos;scss&apos;</span>, <span class="hljs-string">&apos;assets&apos;</span>, <span class="hljs-string">&apos;scripts&apos;</span>);
});
</code></pre><p>The watch function should monitor the src folder for changes and then trigger
the appropriate task for the changed file.</p>
<p>When changes happen in the jade directory trigger the &apos;jade&apos; gulp task, when
changes happen in the scss directory trigger the &apos;scss&apos; gulp task.</p>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> paths = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../paths&apos;</span>)

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reportChange</span>(<span class="hljs-params">event</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;File &apos;</span> + event.path + <span class="hljs-string">&apos; was &apos;</span> + event.type + <span class="hljs-string">&apos;, running tasks...&apos;</span>);
}

gulp.task(<span class="hljs-string">&apos;watch&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        gulp.watch(paths.jade, [<span class="hljs-string">&apos;jade&apos;</span>]);
        gulp.watch(paths.scss, [<span class="hljs-string">&apos;scss&apos;</span>]);
        gulp.watch(paths.assets, [<span class="hljs-string">&apos;assets&apos;</span>, ]).on(<span class="hljs-string">&apos;change&apos;</span>, reportChange);
        gulp.watch(paths.scripts, [<span class="hljs-string">&apos;scripts&apos;</span>, ]).on(<span class="hljs-string">&apos;change&apos;</span>, reportChange);
    }
);
</code></pre><p>Test it out with the watch command:</p>
<pre><code><span class="hljs-variable">$ </span>gulp watch
</code></pre><p>Make some changes to the index.jade or main.scss and they should get recompiled
immediately.</p>
</article><article class="doc-article"><a class="doc-nav-anchor" name="option_wiredep"></a><h1 id="option-wiredep">Option Wiredep</h1>
<p>Wiredep is a node module that will automatically add references to js, css, 
sass and less files from packages imported via bower.</p>
<p>We will add a wiredep watcher that will watch the bower.json file for 
changes and then add the appropriate links.</p>
<h2 id="install-dependencies">Install Dependencies</h2>
<p>From the root directory issue the following commands:</p>
<pre><code>$ npm install bower --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span>
$ npm install wiredep --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span>

$ bower init
</code></pre><h2 id="add-wiredep-placeholders">Add Wiredep Placeholders</h2>
<p>In the src/jade/index.jade file add the css and js placeholder. Css placeholders
go in the head, js placeholders at the end of the body.</p>
<pre><code>doctype html
html(lang=<span class="hljs-string">&quot;en&quot;</span>)
  head
    title= pageTitle
    script(type=<span class="hljs-string">&apos;text/javascript&apos;</span>).
      <span class="hljs-keyword">if</span> (foo) {
        bar(<span class="hljs-number">1</span> + <span class="hljs-number">5</span>)
      }

   <span class="hljs-comment"> // bower:css</span>
   <span class="hljs-comment"> // endbower</span>

  body
    h1 Jade - node template engine
    <span class="hljs-comment">#container.col</span>
      p.
        Jade is <span class="hljs-operator">a</span> terse <span class="hljs-operator">and</span> simple
        templating language <span class="hljs-operator">with</span> <span class="hljs-operator">a</span>
        strong focus <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">performance</span></span>
        <span class="hljs-operator">and</span> powerful features..

   <span class="hljs-comment"> // bower:js</span>
   <span class="hljs-comment"> // endbower</span>
</code></pre><p>For bower dependencies that use sass ( susy or foundation for example ) wiredep
will automatically add those import statements to your sass style as well.
Just add the sass placeholders in your src/scss/main.scss file.</p>
<pre><code><span class="hljs-comment">// bower:scss</span>
<span class="hljs-comment">// endbower</span>

<span class="hljs-tag">body</span> {
  <span class="hljs-attribute">background-color</span>: dimgrey;

  <span class="hljs-tag">h3</span> {
    <span class="hljs-attribute">color</span>: white;
  }
}
</code></pre><p>add the wiredep paths to the gulp/paths.js file:</p>
<pre><code><span class="hljs-comment">//wiredep stuff</span>
<span class="hljs-string">bowerDirectory:</span> <span class="hljs-string">&quot;bower_components&quot;</span>,
<span class="hljs-string">bowerJson:</span> <span class="hljs-string">&apos;bower.json&apos;</span>,
<span class="hljs-string">wiredep_jade_output:</span> appRoot + <span class="hljs-string">&apos;jade/&apos;</span>,
<span class="hljs-string">wiredep_scss_output:</span> appRoot + <span class="hljs-string">&apos;scss/&apos;</span>,
<span class="hljs-string">wiredep_sass_output:</span> appRoot + <span class="hljs-string">&apos;sass/&apos;</span>,
</code></pre><p>create a file for your wiredep task definitions at gulp/tasks/wiredep.js:</p>
<pre><code><span class="hljs-keyword">var</span> paths = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../paths&apos;</span>);
<span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> wiredep = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;wiredep&apos;</span>).stream;

<span class="hljs-keyword">var</span> overrides = {
    <span class="hljs-comment">// non standard package paths can be fixed here</span>
}


gulp.task(<span class="hljs-string">&apos;wiredep-jade&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> gulp.src(paths.jade)
        .pipe(wiredep({
            directory: paths.bowerDirectory,
            ignorePath: <span class="hljs-regexp">/^(\.\.\/)*\.\./</span>,
            overrides: overrides
        })).pipe(gulp.dest(paths.wiredep_jade_output));

});


gulp.task(<span class="hljs-string">&apos;wiredep-scss&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> gulp.src(paths.scss)
        .pipe(wiredep({
            directory: paths.bowerDirectory,
            overrides: overrides
        })).pipe(gulp.dest(paths.wiredep_scss_output));

});

gulp.task(<span class="hljs-string">&apos;wiredep&apos;</span>, [<span class="hljs-string">&apos;wiredep-jade&apos;</span>,<span class="hljs-string">&apos;wiredep-scss&apos;</span>]);
</code></pre><p>Add wiredep tasks to the build and watch tasks.</p>
<p>gulp/tasks/build.js:</p>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> runSequence = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;run-sequence&apos;</span>);

gulp.task(<span class="hljs-string">&apos;build&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    runSequence(<span class="hljs-string">&apos;wiredep&apos;</span>, [<span class="hljs-string">&apos;jade&apos;</span>, <span class="hljs-string">&apos;scss&apos;</span>, <span class="hljs-string">&apos;assets&apos;</span>, <span class="hljs-string">&apos;scripts&apos;</span>]);
});
</code></pre><p>gulp/tasks/watch.js:</p>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> paths = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../paths&apos;</span>)

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reportChange</span>(<span class="hljs-params">event</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;File &apos;</span> + event.path + <span class="hljs-string">&apos; was &apos;</span> + event.type + <span class="hljs-string">&apos;, running tasks...&apos;</span>);
}

gulp.task(<span class="hljs-string">&apos;watch&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        gulp.watch(paths.jade, [<span class="hljs-string">&apos;jade&apos;</span>]);
        gulp.watch(paths.scss, [<span class="hljs-string">&apos;scss&apos;</span>]);
        gulp.watch(paths.assets, [<span class="hljs-string">&apos;assets&apos;</span>, ]).on(<span class="hljs-string">&apos;change&apos;</span>, reportChange);
        gulp.watch(paths.scripts, [<span class="hljs-string">&apos;scripts&apos;</span>, ]).on(<span class="hljs-string">&apos;change&apos;</span>, reportChange);
        gulp.watch(paths.bowerJson, [<span class="hljs-string">&apos;wiredep&apos;</span>]).on(<span class="hljs-string">&apos;change&apos;</span>, reportChange);
    }
);
</code></pre><p>test it out by adding a bower package and running the gulp build command:</p>
<pre><code>$ bower <span class="hljs-operator"><span class="hljs-keyword">install</span> foundation <span class="hljs-comment">--save</span>
$ gulp <span class="hljs-keyword">build</span></span>
</code></pre><p>the --save option tells bower to write the installed package to the bower.json
file. Bower will also download any dependencies that the installed package might
rely on. The gulp build task will trigger the wiredep task which looks in the bower.json 
file for packages and links the appropriate file.</p>
<p>Check your index.jade file and the main.scss file, you should see the 
new referenced files within the bower placeholders.</p>
<p>Test the watch tasks. In one console run the watcher:</p>
<pre><code><span class="hljs-variable">$ </span>gulp watch
</code></pre><p>In another console run the bower commands:</p>
<pre><code>$ bower <span class="hljs-operator"><span class="hljs-keyword">uninstall</span> foundation <span class="hljs-comment">--save</span></span>
</code></pre><p>The bower placeholders should now be empty again. </p>
</article><article class="doc-article"><a class="doc-nav-anchor" name="option_browsersync"></a><h1 id="option-browsersync">Option Browsersync</h1>
<p>Browsersync is a node module that starts a mini local server so that you
can test your project. Browsersync can also be configured with watchers
so that changes to your code will trigger an automatic update of the page
in the browser. </p>
<h2 id="install-dependencies">Install Dependencies</h2>
<p>From the root directory issue the following commands:</p>
<pre><code>$ npm <span class="hljs-operator"><span class="hljs-keyword">install</span> browser-<span class="hljs-keyword">sync</span> <span class="hljs-comment">--save-dev</span></span>
</code></pre><h2 id="add-gulp-serve-task">Add Gulp Serve Task</h2>
<p>create the serve.js task file:</p>
<pre><code><span class="hljs-variable">$ </span>touch gulp/tasks/serve.js
</code></pre><p>add the following code to the gulp/tasks/serve.js file:</p>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> browserSync = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;browser-sync&apos;</span>).create();

gulp.task(<span class="hljs-string">&apos;serve&apos;</span>, [<span class="hljs-string">&apos;build&apos;</span>, <span class="hljs-string">&apos;watch&apos;</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

    <span class="hljs-comment">// Serve files from the root of this project</span>
    browserSync.init({
        server: {
            baseDir: <span class="hljs-string">&quot;./dist/&quot;</span>
        },
        injectChanges: <span class="hljs-literal">true</span>
    });

    gulp.watch(<span class="hljs-string">&quot;dist/**/*&quot;</span>, [<span class="hljs-string">&apos;&apos;</span>]).on(<span class="hljs-string">&apos;change&apos;</span>, browserSync.reload);
})
</code></pre><p>to test this run the serve task. A browser should open and any changes you 
make in any src files should trigger a browser refresh.</p>
</article><article class="doc-article"><a class="doc-nav-anchor" name="doc_howto"></a><h1 id="how-to-create-the-documentation-project">How to Create the Documentation Project</h1>
<p>We will create a simple gulp project that will allow us to write nice Markdown based documentation. 
We will use Gulp and Browsersync to let us view edits in the browser as we are making then. 
We&apos;ll use gulp-markdown-docs to compile our markdown to html.</p>
<p>First let&apos;s install the requirements.</p>
<h2 id="install-requirements">Install Requirements</h2>
<pre><code>$ mkdir doc

$ cd doc

$ mkdir src

$ mkdir documentation

$ npm init

This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm <span class="hljs-operator"><span class="hljs-keyword">help</span> <span class="hljs-keyword">json</span><span class="hljs-string">` for definitive documentation on these fields
and exactly what they do.

Use `</span>npm <span class="hljs-keyword">install</span> &lt;pkg&gt; <span class="hljs-comment">--save` afterwards to install a package and</span>
<span class="hljs-keyword">save</span> it <span class="hljs-keyword">as</span> a dependency <span class="hljs-keyword">in</span> the <span class="hljs-keyword">package</span>.<span class="hljs-keyword">json</span> <span class="hljs-keyword">file</span>.

Press ^<span class="hljs-keyword">C</span> <span class="hljs-keyword">at</span> <span class="hljs-keyword">any</span> <span class="hljs-keyword">time</span> <span class="hljs-keyword">to</span> quit.
<span class="hljs-keyword">name</span>: (doc) prototype-doc
<span class="hljs-keyword">version</span>: (<span class="hljs-number">1.0</span><span class="hljs-number">.0</span>)
description: documentation <span class="hljs-keyword">of</span> prototype tutorial
entry point: (<span class="hljs-keyword">index</span>.js)
<span class="hljs-keyword">test</span> command:
git repository:
keywords:
author:
license: (ISC)
About <span class="hljs-keyword">to</span> write <span class="hljs-keyword">to</span> <span class="hljs-keyword">path</span>/<span class="hljs-keyword">path</span>/<span class="hljs-keyword">path</span>/doc/<span class="hljs-keyword">package</span>.<span class="hljs-keyword">json</span>:

{
  <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;prototype-doc&quot;</span>,
  <span class="hljs-string">&quot;version&quot;</span>: <span class="hljs-string">&quot;1.0.0&quot;</span>,
  <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-string">&quot;documentation of prototype tutorial&quot;</span>,
  <span class="hljs-string">&quot;main&quot;</span>: <span class="hljs-string">&quot;index.js&quot;</span>,
  <span class="hljs-string">&quot;scripts&quot;</span>: {
    <span class="hljs-string">&quot;test&quot;</span>: <span class="hljs-string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  },
  <span class="hljs-string">&quot;author&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
  <span class="hljs-string">&quot;license&quot;</span>: <span class="hljs-string">&quot;ISC&quot;</span>
}

<span class="hljs-keyword">Is</span> this ok? (yes) yes

$ npm <span class="hljs-keyword">install</span> gulp <span class="hljs-comment">--save-dev</span>

$ npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save-dev gulp-markdown-docs</span>

$ npm <span class="hljs-keyword">install</span> browser-<span class="hljs-keyword">sync</span> gulp <span class="hljs-comment">--save-dev</span></span>
</code></pre><h2 id="project-structure">Project Structure</h2>
<p>Some files have been generated automatically already, you need to create the others at this point by hand.
In the doc folder create the following two files:</p>
<pre><code><span class="hljs-variable">$ </span>touch gulpfile.js

<span class="hljs-variable">$ </span>touch .gitignore
</code></pre><p>In the src directory create a file named chapter1.md. </p>
<p>The doc directory structure should look like the following:</p>
<pre><code>doc/
    documentation/
    node_modules/
    src/
        chapter1<span class="hljs-class">.md</span>
    <span class="hljs-class">.gitignore</span>
    gulpfile<span class="hljs-class">.js</span>
    package.json
</code></pre><h2 id="create-gulpfile-js">Create gulpfile.js</h2>
<pre><code><span class="hljs-keyword">var</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp&apos;</span>);
<span class="hljs-keyword">var</span> markdownDocs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;gulp-markdown-docs&apos;</span>);
<span class="hljs-keyword">var</span> browserSync = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;browser-sync&apos;</span>).create();

gulp.task(<span class="hljs-string">&apos;md&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> gulp.src(<span class="hljs-string">&apos;src/**/*.md&apos;</span>)
    .pipe(markdownDocs(<span class="hljs-string">&apos;index.html&apos;</span>, {
        yamlMeta: <span class="hljs-literal">true</span>,
        documentSort: <span class="hljs-string">&apos;rank&apos;</span>
  }))
    .pipe(gulp.dest(<span class="hljs-string">&apos;./documentation/&apos;</span>));
});

gulp.task(<span class="hljs-string">&apos;serve&apos;</span>, [<span class="hljs-string">&apos;md&apos;</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{

    <span class="hljs-comment">// Serve files from the root of this project</span>
    browserSync.init({
        server: {
            baseDir: <span class="hljs-string">&quot;./documentation/&quot;</span>
        },
        injectChanges: <span class="hljs-literal">true</span>
    });

    gulp.watch(<span class="hljs-string">&quot;src/**/*.md&quot;</span>, [<span class="hljs-string">&apos;md&apos;</span>]);
    gulp.watch(<span class="hljs-string">&quot;documentation/*.*&quot;</span>, []).on(<span class="hljs-string">&apos;change&apos;</span>, browserSync.reload);
});
</code></pre><h2 id="create-documentation">Create Documentation</h2>
<p>Gulp Markdown Docs looks for some yaml formated meta information at the top of each page. </p>
<pre><code><span class="hljs-attribute">label</span>: <span class="hljs-string">[page label here]</span>
<span class="hljs-attribute">id</span>: <span class="hljs-string">[page_id_for_anchor]</span>
</code></pre></article></section></section>
  </body>

